# A script to convert KML data into a shapefile

from qgis.core import QgsVectorFileWriter, QgsVectorLayer  #import QPyGIS modules

dest_crs = QgsCoordinateReferenceSystem(4326) # create a variable with a coordinate reference system

vlayer = QgsVectorLayer(r"C:/Users/Sarah/Desktop/MOF_Data_QGIS/Gas_Leaks_2018/KML_Data/GasLeaks2018.kml", "line", "ogr") # input KML file to be written as a shapfile

writer = QgsVectorFileWriter.writeAsVectorFormat(vlayer, r"C:/Users/Sarah/Desktop/MOF_Data_QGIS/Gas_Leaks_2018/KML_Data/AsShapefile2.shp", "utf-8", dest_crs, "ESRI Shapefile") # output file to be written as shapefile
